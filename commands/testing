const { SlashCommandBuilder } = require('@discordjs/builders');
const fetch = require('node-fetch');
var ccmc = require("ccnetmc")

module.exports = {
	data: new SlashCommandBuilder()
		.setName('testcapital')
		.setDescription("Shows all information about the capital of OE (New Amsterdam)"),

	async execute(interaction) {
		var newamst = await fetch("http://earthmcstats.ddns.net/api/v1/towns/Rajkot").then(res => res.json()).catch(err => { return err })
        var parse = JSON.parse(newamst)
        function printValues(parse) {
            for(var k in parse) {
                if(parse[k] instanceof Object) {
                    printValues(parse[k]);
                } else {
                    document.write(parse[k] + "<br>");
                };
            }
        };
        console.log(parse["name"]["residents"])
        
			await interaction.reply("done");
	},
};